"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const stream_1 = require("stream");
const ELLIPSIS = /^\.{3,}$/;
class NodeReplWriteStream extends stream_1.Writable {
    constructor(element) {
        super({ decodeStrings: false });
        this.element = element;
    }
    _write(data, _enc, next) {
        const _data = data.toString().trim();
        if (_data.length && !ELLIPSIS.test(_data)) {
            const row = document.createElement('p');
            row.textContent = _data;
            this.element.appendChild(row);
        }
        next();
    }
}
exports.NodeReplWriteStream = NodeReplWriteStream;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZS1yZXBsLXdyaXRlLXN0cmVhbS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9ub2RlLXJlcGwtd3JpdGUtc3RyZWFtLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsbUNBQWlDO0FBRWpDLE1BQU0sUUFBUSxHQUFHLFVBQVUsQ0FBQTtBQUUzQix5QkFBaUMsU0FBUSxpQkFBUTtJQUMvQyxZQUFvQixPQUFvQjtRQUN0QyxLQUFLLENBQUMsRUFBRSxhQUFhLEVBQUUsS0FBSyxFQUFFLENBQUMsQ0FBQTtRQURiLFlBQU8sR0FBUCxPQUFPLENBQWE7SUFFeEMsQ0FBQztJQUVNLE1BQU0sQ0FBQyxJQUFTLEVBQUUsSUFBWSxFQUFFLElBQTJCO1FBQ2hFLE1BQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQTtRQUVwQyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsTUFBTSxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDMUMsTUFBTSxHQUFHLEdBQUcsUUFBUSxDQUFDLGFBQWEsQ0FBQyxHQUFHLENBQUMsQ0FBQTtZQUN2QyxHQUFHLENBQUMsV0FBVyxHQUFHLEtBQUssQ0FBQTtZQUN2QixJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQTtRQUMvQixDQUFDO1FBQ0QsSUFBSSxFQUFFLENBQUE7SUFDUixDQUFDO0NBQ0Y7QUFmRCxrREFlQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFdyaXRhYmxlIH0gZnJvbSAnc3RyZWFtJ1xuXG5jb25zdCBFTExJUFNJUyA9IC9eXFwuezMsfSQvXG5cbmV4cG9ydCBjbGFzcyBOb2RlUmVwbFdyaXRlU3RyZWFtIGV4dGVuZHMgV3JpdGFibGUge1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGVsZW1lbnQ6IEhUTUxFbGVtZW50KSB7XG4gICAgc3VwZXIoeyBkZWNvZGVTdHJpbmdzOiBmYWxzZSB9KVxuICB9XG5cbiAgcHVibGljIF93cml0ZShkYXRhOiBhbnksIF9lbmM6IHN0cmluZywgbmV4dDogKGVycj86IEVycm9yKSA9PiB2b2lkKSB7XG4gICAgY29uc3QgX2RhdGEgPSBkYXRhLnRvU3RyaW5nKCkudHJpbSgpXG5cbiAgICBpZiAoX2RhdGEubGVuZ3RoICYmICFFTExJUFNJUy50ZXN0KF9kYXRhKSkge1xuICAgICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpXG4gICAgICByb3cudGV4dENvbnRlbnQgPSBfZGF0YVxuICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKHJvdylcbiAgICB9XG4gICAgbmV4dCgpXG4gIH1cbn1cbiJdfQ==